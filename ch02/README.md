### Chapter 2: Getting Started with Prometheus

This chapter covers setting up and running a basic Prometheus system, providing a hands-on experience with the core components, including Prometheus itself, Node Exporter, and Alertmanager. The goal is to monitor a single machine, offering insight into how a full Prometheus deployment would function.

#### Key Steps and Components:
1. **Running Prometheus**: 
   - Download and extract the latest version of Prometheus.
   - Configure the `prometheus.yml` file, setting a scrape interval and defining targets.
   - Start Prometheus and observe logging data on startup, including the version and server details.
   - Access the Prometheus web UI at `localhost:9090` to visualize the system status and run queries.

2. **Using the Expression Browser**:
   - Prometheus provides an expression browser where users can write and execute PromQL queries to explore metrics data.
   - The `up` metric is a basic health check that indicates whether the last scrape of a target was successful (value of `1` for success).
   - More advanced queries, such as `process_resident_memory_bytes` and `rate(prometheus_tsdb_head_samples_appended_total[1m])`, are used to track memory usage and sample ingestion rates .

3. **Running the Node Exporter**:
   - The Node Exporter is a widely used exporter that collects hardware and OS metrics, such as CPU, memory, and disk utilization.
   - By running the Node Exporter and adding it as a target in Prometheus, system-level metrics can be gathered.
   - The `/metrics` endpoint exposes these metrics, which can be accessed by Prometheus.

4. **Alerting with Alertmanager**:
   - Configure the Alertmanager to handle alerts generated by Prometheus.
   - Alerts are set in Prometheus based on conditions (e.g., service downtime) using PromQL queries.
   - The Alertmanager can be configured to send notifications via various channels, such as email, when alerts are triggered.
   - A demonstration alert (`InstanceDown`) is generated, and the setup includes routing this alert to an email via the Alertmanager configuration.

This setup gives a practical introduction to Prometheus, enabling monitoring of machine-level metrics and sending alerts, which form the foundation of more complex monitoring systems.